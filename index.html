<!DOCTYPE HTML>
<head>
	<title>Проект</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="style.css" rel="stylesheet">
</head>
<body>
	<h1>Магазин</h1>
	<div class="shop">
		<img src="images/wall.png">
	</div>
	
	<span class="items" >
		<img id="money" src="images/money.png" width="110" height="110">
		<img id="wallet" src="images/wallet.png" width="160" height="120">
		<img id="salesman" src="images/salesman.png" width="100" height="200">
		<img id="check" src="images/check.png" width="100" height="200">
		<img id="bank_card" src="images/bank card.png" width="100" height="200">
		<img id="coins" src="images/coins.png" width="100" height="200">
		<img id="shopping_cart" src="images/shopping cart.png" width="100" height="200">
		<img id="shopping_cart_2" src="images/shopping cart 2.png" width="100" height="200">
		<img id="security" src="images/security.png" width="100" height="200">
		<img id="bottle" src="images/bottle.png" width="100" height="200">
		<img id="chips" src="images/chips.png" width="100" height="200">
		<img id="bread" src="images/bread.png" width="100" height="200">
		<img id="packages" src="images/packages.png" width="100" height="200">
		<img id="power_engineer" src="images/power engineer.png" width="100" height="200">
		<img id="cheese" src="images/chees.png" width="100" height="200">
	</span>
	
	<span id="message"></span>
</body>

<script type="text/javascript">

"use strict";

const MASSIV = [
	"money","wallet","salesman","check", "bank_card", "coins", "shopping_cart", "shopping_cart_2", "security", "bottle", "chips", "bread", "packages", "power_engineer", "cheese"
];

// https://stackoverflow.com/a/2450976
const shuffle = array => {
	let currentIndex = array.length, randomIndex;

	// While there remain elements to shuffle.
	while (currentIndex !== 0) {

		// Pick a remaining element.
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex--;

		// And swap it with the current element.
		[array[currentIndex], array[randomIndex]] = [
		array[randomIndex], array[currentIndex]];
		}

	return array;
}

const shuffledObjects = shuffle(MASSIV);
let currentIndex = 0;

const addEventListener = () => {
	if (currentIndex >= shuffledObjects.length) {
		document.getElementById("message").innerText = "Вы прошли игру!";
		return;
		}

	document.getElementById("message").innerText = "Найди персонаж " + shuffledObjects[currentIndex];

	document.getElementById(shuffledObjects[currentIndex]).addEventListener('click', function (event) {
			event.preventDefault();

			this.style.opacity = '0';
			this.style.transition = '0.5s';

			++currentIndex;

			addEventListener();
		});
};

addEventListener();
</script>